# 1장 오브젝트와 의존관계
```
스프링이 자바에서 가장 중요하게 가치를 두는 것은 객체지향 프로그래밍이 가능한 언어라는 점이다.
그래서 스프링이 가장 관심을 많이 두는 대상은 오브젝트다.
스프링을 이해하려면 먼저 오브젝트에 깊은 관심을 가져야 한다.
애플리케이션에서 오브젝트가 생성되고 다른 오브젝트와 관계를 맺고, 사용되고, 소멸하기까지의 전 과정을 진지하게 생각해볼 필요가 있다.
```
## 1.1 초난감 DAO
**`DAO`** : DAO(Data Access Object)는 DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 오브젝트를 말한다.
### 1.1.1 User

```java
package springbook.user.domain;

public class User {
	String id;
	String name;
	String password;

	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public String getPassword() {
		return password;
	}

	public void setPassword(String password) {
		this.password = password;
	}
}
```
🔼 사용자 정보 저장용 자바빈 User 클래스

### 1.1.2 UserDao

- 사용자 정보를 DB에 넣고 관리할 수 있는 DAO 클래스 생성
- 사용자 정보를 관리하므로 UserDao로 클래스 명명
- 메소드: 새로운 사용자 생성(add), 아이디를 가지고 사용자 정보 조회(get)

```java
package springbook.user.dao;
...
public class UserDao {
	public void add(User user) throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
	
		PreparedStatement ps = c.prepareStatement("insert into users(id, name, password) values (?, ?, ?)");
		ps.setString(1, user.getId());
		ps.setString(2, user.getName());
		ps.setString(3, user.getPassword());

		ps.executeUpdate();

		ps.close();
		c.close();
	}

	public User get(String id) throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
	
		PreparedStatement ps = c.prepareStatement("select * from users id = ?");
		ps.setString(1, id);

		ResultSet rs = ps.excuteQuery();
		rs.next();

		User user = new User();
		user.setId(rs.getString("id"));
		user.setName(rs.getString("name"));
		user.setPassword(rs.getString("password"));

		rs.close();
		ps.close();
		c.close();

		return user;
	}
}
```

🔼 JDBC를 이용한 등록과 조회 기능이 있는 UserDao 클래스

### 1.1.3 main()을 이용한 DAO 테스트 코드

- main 메소드를 만들고 그 안에서 UserDao의 오브젝트를 생성해서 add()와 get() 메소드 검증

```java
public static void main(String[] args) throws ClassNotFoundException, SQLException {
	UserDao dao = new UserDao();

	User user = new User();
	user.setId("sohyeonkim");
	user.setName("김소현");
	user.setPassword("server");

	dao.add(user);

	System.out.println(user.getId() + " 등록 성공");
	
	User user2 = dao.get(user.getId());

	System.out.println(user2.getName());
	System.out.println(user2.getPassword());

	System.out.println(user2.getId() + " 조회 성공");
}
```

🔼 테스트용 main() 메소드
