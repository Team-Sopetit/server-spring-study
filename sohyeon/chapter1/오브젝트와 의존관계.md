# 1ì¥ ì˜¤ë¸Œì íŠ¸ì™€ ì˜ì¡´ê´€ê³„
```
ìŠ¤í”„ë§ì´ ìë°”ì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ê°€ì¹˜ë¥¼ ë‘ëŠ” ê²ƒì€ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•œ ì–¸ì–´ë¼ëŠ” ì ì´ë‹¤.
ê·¸ë˜ì„œ ìŠ¤í”„ë§ì´ ê°€ì¥ ê´€ì‹¬ì„ ë§ì´ ë‘ëŠ” ëŒ€ìƒì€ ì˜¤ë¸Œì íŠ¸ë‹¤.
ìŠ¤í”„ë§ì„ ì´í•´í•˜ë ¤ë©´ ë¨¼ì € ì˜¤ë¸Œì íŠ¸ì— ê¹Šì€ ê´€ì‹¬ì„ ê°€ì ¸ì•¼ í•œë‹¤.
ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜¤ë¸Œì íŠ¸ê°€ ìƒì„±ë˜ê³  ë‹¤ë¥¸ ì˜¤ë¸Œì íŠ¸ì™€ ê´€ê³„ë¥¼ ë§ºê³ , ì‚¬ìš©ë˜ê³ , ì†Œë©¸í•˜ê¸°ê¹Œì§€ì˜ ì „ ê³¼ì •ì„ ì§„ì§€í•˜ê²Œ ìƒê°í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.
```
## 1.1 ì´ˆë‚œê° DAO
**`DAO`** : DAO(Data Access Object)ëŠ” DBë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ì¡°ì‘í•˜ëŠ” ê¸°ëŠ¥ì„ ì „ë‹´í•˜ë„ë¡ ë§Œë“  ì˜¤ë¸Œì íŠ¸ë¥¼ ë§í•œë‹¤.
### 1.1.1 User

```java
package springbook.user.domain;

public class User {
	String id;
	String name;
	String password;

	public String getId() {
		return id;
	}

	public void setId(String id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public String getPassword() {
		return password;
	}

	public void setPassword(String password) {
		this.password = password;
	}
}
```
ğŸ”¼ ì‚¬ìš©ì ì •ë³´ ì €ì¥ìš© ìë°”ë¹ˆ User í´ë˜ìŠ¤

### 1.1.2 UserDao

- ì‚¬ìš©ì ì •ë³´ë¥¼ DBì— ë„£ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” DAO í´ë˜ìŠ¤ ìƒì„±
- ì‚¬ìš©ì ì •ë³´ë¥¼ ê´€ë¦¬í•˜ë¯€ë¡œ UserDaoë¡œ í´ë˜ìŠ¤ ëª…ëª…
- ë©”ì†Œë“œ: ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„±(add), ì•„ì´ë””ë¥¼ ê°€ì§€ê³  ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ(get)

```java
package springbook.user.dao;
...
public class UserDao {
	public void add(User user) throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
	
		PreparedStatement ps = c.prepareStatement("insert into users(id, name, password) values (?, ?, ?)");
		ps.setString(1, user.getId());
		ps.setString(2, user.getName());
		ps.setString(3, user.getPassword());

		ps.executeUpdate();

		ps.close();
		c.close();
	}

	public User get(String id) throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
	
		PreparedStatement ps = c.prepareStatement("select * from users id = ?");
		ps.setString(1, id);

		ResultSet rs = ps.excuteQuery();
		rs.next();

		User user = new User();
		user.setId(rs.getString("id"));
		user.setName(rs.getString("name"));
		user.setPassword(rs.getString("password"));

		rs.close();
		ps.close();
		c.close();

		return user;
	}
}
```

ğŸ”¼Â JDBCë¥¼ ì´ìš©í•œ ë“±ë¡ê³¼ ì¡°íšŒ ê¸°ëŠ¥ì´ ìˆëŠ” UserDao í´ë˜ìŠ¤

### 1.1.3 main()ì„ ì´ìš©í•œ DAO í…ŒìŠ¤íŠ¸ ì½”ë“œ
- main ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì—ì„œ UserDaoì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•´ì„œ add()ì™€ get() ë©”ì†Œë“œ ê²€ì¦

```java
public static void main(String[] args) throws ClassNotFoundException, SQLException {
	UserDao dao = new UserDao();

	User user = new User();
	user.setId("sohyeonkim");
	user.setName("ê¹€ì†Œí˜„");
	user.setPassword("server");

	dao.add(user);

	System.out.println(user.getId() + " ë“±ë¡ ì„±ê³µ");
	
	User user2 = dao.get(user.getId());

	System.out.println(user2.getName());
	System.out.println(user2.getPassword());

	System.out.println(user2.getId() + " ì¡°íšŒ ì„±ê³µ");
}
```

ğŸ”¼Â í…ŒìŠ¤íŠ¸ìš© main() ë©”ì†Œë“œ

<br/>

## 1.2 DAOì˜ ë¶„ë¦¬
```
ì‚¬ìš©ìì˜ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ì™€ ê·¸ì— ë”°ë¥¸ ìš”êµ¬ì‚¬í•­ì€ ëŠì„ì—†ì´ ë°”ë€Œê³  ë°œì „í•œë‹¤.
ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê¸°ë°˜ì„ ë‘ê³  ìˆëŠ” ê¸°ìˆ ë„ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë°”ë€Œê³ , ìš´ì˜ë˜ëŠ” í™˜ê²½ë„ ë³€í™”í•œë‹¤.
ê·¸ë˜ì„œ ê°œë°œìê°€ ê°ì²´ë¥¼ ì„¤ê³„í•  ë•Œ ê°€ì¥ ì—¼ë‘ì— ë‘¬ì•¼ í•  ì‚¬í•­ì€ ë°”ë¡œ ë¯¸ë˜ì˜ ë³€í™”ë¥¼ ì–´ë–»ê²Œ ëŒ€ë¹„í•  ê²ƒì¸ê°€ì´ë‹¤.
"ë¶„ë¦¬ì™€ í™•ì¥"ì„ ê³ ë ¤í•œ ì„¤ê³„ë¥¼ í†µí•´ ë³€ê²½ì´ ì¼ì–´ë‚  ë•Œ í•„ìš”í•œ ì‘ì—…ì„ ìµœì†Œí™”í•˜ê³ , ê·¸ ë³€ê²½ì´ ë‹¤ë¥¸ ê³³ì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ì§€ ì•Šê²Œ í•  ìˆ˜ ìˆë‹¤.
```

### 1.2.1 ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬
- ëª¨ë“  ë³€ê²½ê³¼ ë°œì „ì€ í•œ ë²ˆì— **í•œ ê°€ì§€ ê´€ì‹¬ì‚¬í•­**ì— ì§‘ì¤‘ì—ì„œ ì¼ì–´ë‚œë‹¤.
- ë³€í™”ëŠ” ëŒ€ì²´ë¡œ ì§‘ì¤‘ëœ í•œ ê°€ì§€ ê´€ì‹¬ì— ëŒ€í•´ ì¼ì–´ë‚˜ì§€ë§Œ, ê·¸ì— ë”°ë¥¸ ì‘ì—…ì€ í•œ ê³³ì— ì§‘ì¤‘ë˜ì§€ ì•Šì„ ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•œë‹¤. ë”°ë¼ì„œ ê´€ì‹¬ì´ ê°™ì€ ê²ƒë¼ë¦¬ëŠ” ëª¨ìœ¼ê³ , ê´€ì‹¬ì´ ë‹¤ë¥¸ ê²ƒì€ ë”°ë¡œ ë–¨ì–´ì ¸ ìˆê²Œ í•´ì•¼ í•œë‹¤.
- í”„ë¡œê·¸ë˜ë°ì˜ ê¸°ì´ˆ ê°œë… ì¤‘ **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬**ë¥¼ ê°ì²´ì§€í–¥ì— ì ìš©í•  ìˆ˜ ìˆë‹¤.
- ê´€ì‹¬ì´ ê°™ì€ ê²ƒë¼ë¦¬ëŠ” â€œí•˜ë‚˜ì˜ ê°ì²´ ì•ˆâ€ìœ¼ë¡œ ë˜ëŠ” â€œì¹œí•œ ê°ì²´â€ë¡œ ëª¨ì´ê²Œ í•˜ê³ , ê´€ì‹¬ì´ ë‹¤ë¥¸ ê²ƒì€ ê°€ëŠ¥í•œ í•œ ë”°ë¡œ ë–¨ì–´ì ¸ì„œ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ ë¶„ë¦¬í•œë‹¤.
- ê´€ì‹¬ì‚¬ê°€ ê°™ì€ ê²ƒë¼ë¦¬ ëª¨ìœ¼ê³  ë‹¤ë¥¸ ê²ƒì€ ë¶„ë¦¬í•´ì¤Œìœ¼ë¡œì¨ **ê°™ì€ ê´€ì‹¬ì— íš¨ê³¼ì ìœ¼ë¡œ ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ** ë§Œë“¤ì–´ì¤€ë‹¤.

### 1.2.2 ì»¤ë„¥ì…˜ ë§Œë“¤ê¸°ì˜ ì¶”ì¶œ
> ***UserDaoì˜ ê´€ì‹¬ì‚¬í•­***
- UserDaoì˜ add() ë©”ì†Œë“œ í•˜ë‚˜ì—ì„œë§Œ ì ì–´ë„ 3ê°€ì§€ ê´€ì‹¬ì‚¬í•­ì„ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.
    - DBì™€ ì—°ê²°ì„ ìœ„í•œ ì»¤ë„¥ì…˜ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ê¹Œë¼ëŠ” ê´€ì‹¬
    - ì‚¬ìš©ì ë“±ë¡ì„ ìœ„í•´ DBì— ë³´ë‚¼ SQL ë¬¸ì¥ì„ ë‹´ì„ Statementë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” ê²ƒ
    - ì‘ì—…ì´ ëë‚˜ë©´ ì‚¬ìš©í•œ Statementì™€ Connection ì˜¤ë¸Œì íŠ¸ë¥¼ ë‹«ì•„ì„œ ê³µìœ  ë¦¬ì†ŒìŠ¤ë¥¼ ì‹œìŠ¤í…œì— ëŒë ¤ì£¼ëŠ” ê²ƒ
- ê°€ì¥ ë¬¸ì œê°€ ë˜ëŠ” ê²ƒì€ ì²«ì§¸ ê´€ì‹¬ì‚¬ì¸ â€œDB ì—°ê²°ì„ ìœ„í•œ Connection ì˜¤ë¸Œì íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒâ€ì´ë‹¤.
- ë‹¤ë¥¸ ê´€ì‹¬ì‚¬ì™€ ì„ì—¬ ê°™ì€ ë©”ì†Œë“œì— ë‹´ê²¨ ìˆê³ , ë™ì¼í•œ ì½”ë“œê°€ get() ë©”ì†Œë“œì—ë„ ì¤‘ë³µë˜ì–´ ìˆë‹¤.
- ì´ëŸ¬í•œ ë¬¸ì œëŠ” ë³€ê²½ì´ ì¼ì–´ë‚  ë•Œ í•˜ë‚˜í•˜ë‚˜ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í•˜ëŠ” ì—„ì²­ë‚œ ê³ í†µì„ ì¼ìœ¼í‚¤ëŠ” ì›ì¸ì´ ëœë‹¤.

> ***ì¤‘ë³µ ì½”ë“œì˜ ë©”ì†Œë“œ ì¶”ì¶œ***
- ê°€ì¥ ë¨¼ì € ì»¤ë„¥ì…˜ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ë³µëœ ì½”ë“œë¥¼ ë¶„ë¦¬í•œë‹¤.
- ì¤‘ë³µëœ DB ì—°ê²° ì½”ë“œë¥¼ getConnection()ì´ë¼ëŠ” ì´ë¦„ì˜ ë…ë¦½ì ì¸ ë©”ì†Œë“œë¡œ ë§Œë“ ë‹¤.
```java
public void add(User user) throws ClassNotFoundException, SQLException {
	Connection c = getConnection();
	...
}

public User get(String id) throws ClassNotFoundException, SQLException {
	Connection c = getConnection();
	...
}

private Connection getConnection() throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
		return c;
}
```
ğŸ”¼Â getConnection() ë©”ì†Œë“œë¥¼ ì¶”ì¶œí•´ì„œ ì¤‘ë³µì„ ì œê±°í•œ UserDao
- DB ì—°ê²°ê³¼ ê´€ë ¨ëœ ë¶€ë¶„ì— ë³€ê²½ì´ ì¼ì–´ë‚¬ì„ ê²½ìš°, í•œ ë©”ì†Œë“œì˜ ì½”ë“œë§Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤.
- ê´€ì‹¬ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì½”ë“œë¥¼ êµ¬ë¶„í•´ë†“ì•˜ê¸° ë•Œë¬¸ì— í•œ ê°€ì§€ ê´€ì‹¬ì— ëŒ€í•œ ë³€ê²½ì´ ì¼ì–´ë‚  ê²½ìš° ê·¸ ê´€ì‹¬ì´ ì§‘ì¤‘ë˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œë§Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤. ê´€ì‹¬ ë‚´ìš©ì´ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•˜ë¯€ë¡œ ìˆ˜ì •ë„ ê°„ë‹¨í•´ì¡Œë‹¤.

> ***ë³€ê²½ì‚¬í•­ì— ëŒ€í•œ ê²€ì¦: ë¦¬íŒ©í† ë§ê³¼ í…ŒìŠ¤íŠ¸***
- main() ë©”ì†Œë“œë¥¼ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•˜ë©´ ë‘ ë²ˆì§¸ë¶€í„°ëŠ” ë¬´ì¡°ê±´ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤. (id ê°’ ì¤‘ë³µ)
- ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì „ User í…Œì´ë¸”ì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ëª¨ë‘ ì‚­ì œí•´ì¤˜ì•¼ í•œë‹¤.
- ìœ„ì˜ ë³€í™”ëŠ” ê¸°ëŠ¥ì— ì•„ë¬´ëŸ° ë³€í™”ë¥¼ ì£¼ì§€ ì•Šì•˜ê³ , ì—¬ì „íˆ ì‚¬ìš©ì ì •ë³´ë¥¼ ë“±ë¡í•˜ê³  ì¡°íšŒí•˜ëŠ” ì¡°ê¸ˆ ë‚œê°í•œ DAO í´ë˜ìŠ¤ê°€ ë˜ì—ˆë‹¤.
- í•˜ì§€ë§Œ ì—¬ëŸ¬ ë©”ì†Œë“œì— ì¤‘ë³µë¼ì„œ ë“±ì¥í•˜ëŠ” íŠ¹ì • ê´€ì‹¬ì‚¬í•­ì´ ë‹´ê¸´ ì½”ë“œë¥¼ ë³„ë„ì˜ ë©”ì†Œë“œë¡œ ë¶„ë¦¬í•´ëƒˆë‹¤.
- ì´ëŸ¬í•œ ì‘ì—…ì„ **ë©”ì†Œë“œ ì¶”ì¶œ(extract method) ê¸°ë²•**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

### 1.2.3 DB ì»¤ë„¥ì…˜ ë§Œë“¤ê¸°ì˜ ë…ë¦½
```
UserDaoëŠ” ë°œì „ì— ë°œì „ì„ ê±°ë“­í•´ì„œ ì´ˆìŠˆí¼ìš¸íŠ¸ë¼ìº¡ì§± ì‚¬ìš©ì ê´€ë¦¬ DAOê°€ ë˜ì—ˆë‹¤.
ì—…ê³„ì— ë„ë¦¬ ì•Œë ¤ì§€ë©´ì„œ Nì‚¬ì™€ Dì‚¬ì—ì„œ ì‚¬ìš©ì ê´€ë¦¬ë¥¼ ìœ„í•´ UserDaoë¥¼ êµ¬ë§¤í•˜ê² ë‹¤ëŠ” ì£¼ë¬¸ì´ ë“¤ì–´ì™”ë‹¤.
í•˜ì§€ë§Œ ë¬¸ì œëŠ” Nì‚¬ì™€ Dì‚¬ê°€ ê°ê¸° ë‹¤ë¥¸ ì¢…ë¥˜ì˜ DBë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³ , DB ì»¤ë„¥ì…˜ì„ ê°€ì ¸ì˜¤ëŠ” ë° ìˆì–´ ë…ìì ìœ¼ë¡œ ë§Œë“  ë°©ë²•ì„ ì ìš©í•˜ê³  ì‹¶ì–´í•œë‹¤ëŠ” ì ì´ë‹¤.
ì‹¬ì§€ì–´ UserDaoë¥¼ êµ¬ë§¤í•œ ì´í›„ì—ë„ DB ì»¤ë„¥ì…˜ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ ì¢…ì¢… ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ê³  í•œë‹¤.
ê³ ê°ì—ê²Œ ì§ì ‘ ì†ŒìŠ¤ì½”ë“œë¥¼ ê³µê°œí•˜ì§€ ì•Šìœ¼ë©´ì„œ, ê³ ê° ìŠ¤ìŠ¤ë¡œ DB ì»¤ë„¥ì…˜ ìƒì„± ë°©ì‹ì„ ì ìš©í•´ê°€ë©´ì„œ UserDaoë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ë³´ì.
```

> ***ìƒì†ì„ í†µí•œ í™•ì¥***
- UserDaoì—ì„œ ë©”ì†Œë“œì˜ êµ¬í˜„ ì½”ë“œë¥¼ ì œê±°í•˜ê³  getConnection()ì„ ì¶”ìƒ ë©”ì†Œë“œë¡œ ë§Œë“ ë‹¤.
- ì¶”ìƒ ë©”ì†Œë“œë¼ì„œ ë©”ì†Œë“œ ì½”ë“œëŠ” ì—†ì§€ë§Œ ë©”ì†Œë“œ ìì²´ëŠ” ì¡´ì¬í•œë‹¤.
- UserDaoë¥¼ êµ¬ë§¤í•œ í¬í„¸ì‚¬ë“¤ì€ UserDao í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì—¬ ê°ê° NUserDaoì™€ DUserDaoë¼ëŠ” ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ì„œë¸Œí´ë˜ìŠ¤ëŠ” UserDaoì—ì„œ ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸í–ˆë˜ getConnection() ë©”ì†Œë“œë¥¼ ì›í•˜ëŠ” ë°©ì‹ëŒ€ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/Team-Sopetit/server-spring-study/assets/55437339/159a1658-b8a9-4e30-8721-9bba9ad4d1c3)

```java
public abstract class UserDao {
	public void add(User user) throws ClassNotFoundException, SQLException {
		Connection c = getConnection();
		...
	}

	public User get(String id) throws ClassNotFoundException, SQLException {
		Connection c = getConnection();
		...
	}

	public abstract Connection getConnection() throws ClassNotFoundException, SQLException;
}

public class NUserDao extends UserDao {
	public Connection getConnection() throws ClassNotFoundException, SQLException {
		// Nì‚¬ DB connection ìƒì„±ì½”ë“œ
	}
}

public class DUserDao extends UserDao {
	public Connection getConnection() throws ClassNotFoundException, SQLExceptioin {
		// Dì‚¬ DB Connection ìƒì„±ì½”ë“œ
	}
}
```

ğŸ”¼Â ìƒì†ì„ í†µí•œ í™•ì¥ ë°©ë²•ì´ ì œê³µë˜ëŠ” UserDao

- ì–´ë–»ê²Œ ë°ì´í„°ë¥¼ ë“±ë¡í•˜ê³  ê°€ì ¸ì˜¬ ê²ƒì¸ê°€ë¼ëŠ” ê´€ì‹¬ì„ ë‹´ë‹¹í•˜ëŠ” UserDaoì™€, DB ì—°ê²° ë°©ë²•ì€ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€ë¼ëŠ” ê´€ì‹¬ì„ ë‹´ê³  ìˆëŠ” NUserDao, DUserDaoê°€ í´ë˜ìŠ¤ ë ˆë²¨ë¡œ êµ¬ë¶„ë˜ê³  ìˆë‹¤.
- ìƒˆë¡œìš´ DB ì—°ê²°ì„ ì ìš©í•´ì•¼ í•  ë•ŒëŠ” UserDao ìƒì†ì„ í†µí•´ í™•ì¥í•´ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
- ì´ë ‡ê²Œ ìŠˆí¼í´ë˜ìŠ¤ì— ê¸°ë³¸ì ì¸ ë¡œì§ì˜ íë¦„ì„ ë§Œë“¤ê³ , ê·¸ ê¸°ëŠ¥ì˜ ì¼ë¶€ë¥¼ ì¶”ìƒ ë©”ì†Œë“œë‚˜ ì˜¤ë²„ë¼ì´ë”©ì´ ê°€ëŠ¥í•œ protected ë©”ì†Œë“œ ë“±ìœ¼ë¡œ ë§Œë“  ë’¤ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì´ëŸ° ë©”ì†Œë“œë¥¼ í•„ìš”ì— ë§ê²Œ êµ¬í˜„í•´ì„œ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ë°©ë²•ì„ ë””ìì¸ íŒ¨í„´ì—ì„œ **í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´**ì´ë¼ê³  í•œë‹¤.
- ì´ë ‡ê²Œ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬ì²´ì ì¸ ì˜¤ë¸Œì íŠ¸ ìƒì„± ë°©ë²•ì„ ê²°ì •í•˜ê²Œ í•˜ëŠ” ê²ƒì„ **íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´**ì´ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.
- UserDaoëŠ” Connection ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¼ëŠ” ê²ƒ ì™¸ì—ëŠ” ê´€ì‹¬ì„ ë‘ì§€ ì•ŠëŠ”ë‹¤. ê·¸ì € Connection ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ëœ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ë¿ì´ë‹¤.
- UserDaoëŠ” ì–´ë–¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ë°ì—ë§Œ ê´€ì‹¬ì´ ìˆê³ , NUserDaoë‚˜ DUserDaoì—ì„œëŠ” ì–´ë–¤ ì‹ìœ¼ë¡œ Connection ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ì§€ì— ê´€ì‹¬ì„ ë‘ê³  ìˆë‹¤.
- í•˜ì§€ë§Œ ìƒì†ì„ ì´ìš©í•œ ë°©ë²•ì—ëŠ” ë‹¨ì ì´ ìˆë‹¤.
  - ë§Œì•½ ì´ë¯¸ UserDaoê°€ ë‹¤ë¥¸ ëª©ì ì„ ìœ„í•´ ìƒì†ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´? (ìë°”ëŠ” ë‹¤ì¤‘ìƒì†ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ)
  - ìƒì†ì„ í†µí•œ ìƒí•˜ìœ„ í´ë˜ìŠ¤ì˜ ê´€ê³„ëŠ” ìƒê°ë³´ë‹¤ ë°€ì ‘í•˜ë‹¤. (ìŠˆí¼í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ë³€ê²½ì´ ìˆì„ ë•Œ ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ë¥¼ í•¨ê»˜ ìˆ˜ì •í•˜ê±°ë‚˜ ë‹¤ì‹œ ê°œë°œí•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ)
  - í™•ì¥ëœ ê¸°ëŠ¥ì¸ DB ì»¤ë„¥ì…˜ì„ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ë‹¤ë¥¸ DAO í´ë˜ìŠ¤ì— ì ìš©í•  ìˆ˜ ì—†ë‹¤. (UserDao ì™¸ì˜ DAO í´ë˜ìŠ¤ë“¤ì´ ê³„ì† ë§Œë“¤ì–´ì§„ë‹¤ë©´ ìƒì†ì„ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ getConnection()ì˜ êµ¬í˜„ ì½”ë“œê°€ ë§¤ DAO í´ë˜ìŠ¤ë§ˆë‹¤ ì¤‘ë³µë˜ëŠ” ë¬¸ì œê°€ ë°œìƒ)
 
<br/>

## 1.3 DAOì˜ í™•ì¥
```
ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì´ë¥¼ ìƒì†í•œ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë³€í™”ê°€ í•„ìš”í•œ ë¶€ë¶„ì„ ë°”ê¿”ì„œ ì“¸ ìˆ˜ ìˆê²Œ ë§Œë“  ì´ìœ ëŠ”,
ë°”ë¡œ ì´ë ‡ê²Œ ë³€í™”ì˜ ì„±ê²©ì´ ë‹¤ë¥¸ ê²ƒì„ ë¶„ë¦¬í•´ì„œ, ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šì€ ì±„ë¡œ ê°ê° í•„ìš”í•œ ì‹œì ì— ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ì„œë‹¤.
ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ê°€ì§€ ë‹¨ì ì´ ë§ì€, ìƒì†ì´ë¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¶ˆí¸í•˜ê²Œ ëŠê»´ì§„ë‹¤.
```

### 1.3.1 í´ë˜ìŠ¤ì˜ ë¶„ë¦¬
- SimpleConnectionMakerë¼ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  DB ìƒì„± ê¸°ëŠ¥ì„ ê·¸ ì•ˆì— ë„£ëŠ”ë‹¤.
- UserDaoëŠ” new í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ SimpleConnectionMaker í´ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ë‘ê³ , ì´ë¥¼ add(), get() ë©”ì†Œë“œì—ì„œ ì‚¬ìš©í•œë‹¤.

![image](https://github.com/Team-Sopetit/server-spring-study/assets/55437339/8ac17b57-3d62-47e2-b063-bf71534e8a07)

```java
public class UserDao {
	private SimpleConnectionMaker simpleConnectionMaker;

	public UserDao() {
		simpleConnectionMaker = new SimpleConnectionMaker();
	}

	public void add(User user) throws ClassNotFoundException, SQLException {
		Connection c = simpleConnectionMaker.makeNewConnection();
		...
	}

	public User get(String id) throws ClassNotFoundException, SQLException {
		Connection c = simpleConnectionMaker.makeNewConnection();
		...
}
```
ğŸ”¼Â ë…ë¦½ëœ SimpleConnectionMakerë¥¼ ì‚¬ìš©í•˜ê²Œ ë§Œë“  UserDao

```java
package springbook.user.dao;
...
public class SimpleConnectionMaker {
	public Connection makeNewConnection() throws ClassNotFoundException, SQLException {
		Class.forName("com.mysql.jdbc.Driver");
		Connection c = DriverManager.getConnection("jdbc:mysql://localhost/springbook", "spring", "book");
		return c;
	}
}
```
ğŸ”¼Â ë…ë¦½ì‹œí‚¨ DB ì—°ê²° ê¸°ëŠ¥ì¸ SimpleConnectionMaker

- ì—¬ì „íˆ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. Nì‚¬ì™€ Dì‚¬ì— UserDao í´ë˜ìŠ¤ë§Œ ê³µê¸‰í•˜ê³  ìƒì†ì„ í†µí•´ DB ì»¤ë„¥ì…˜ ê¸°ëŠ¥ì„ í™•ì¥í•´ì„œ ì‚¬ìš©í•˜ê²Œ í–ˆë˜ ê²Œ ë¶ˆê°€ëŠ¥í•´ì¡Œë‹¤.
- SimpleConnectionMakerë¼ëŠ” íŠ¹ì • í´ë˜ìŠ¤ì— ì¢…ì†ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ìˆ˜ì • ì—†ì´ DB ì»¤ë„¥ì…˜ ìƒì„± ê¸°ëŠ¥ì„ ë³€ê²½í•  ë°©ë²•ì´ ì—†ë‹¤.
- í•´ê²°í•´ì•¼ í•  2ê°€ì§€ ë¬¸ì œê°€ ìˆë‹¤.
  - SimpleConnectionMakerì˜ ë©”ì†Œë“œê°€ ë¬¸ì œë‹¤. (í¬í„¸ì‚¬ì—ì„œ ì»¤ë„¥ì…˜ ì œê³µ í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œë¥¼ ë³€ê²½í•œë‹¤ë©´ ì¼ì¼íˆ ë³€ê²½í•´ì£¼ì–´ì•¼ í•¨)
  - DB ì»¤ë„¥ì…˜ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ê°€ ì–´ë–¤ ê²ƒì¸ì§€ë¥¼ UserDaoê°€ êµ¬ì²´ì ìœ¼ë¡œ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.
- ì¦‰, UserDaoê°€ SimpleConnectionMaker í´ë˜ìŠ¤ì— ì¢…ì†ì ì´ê¸° ë•Œë¬¸ì— ì´í›„ DB ì»¤ë„¥ì…˜ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ í™•ì¥í•˜ê¸° ì–´ë ¤ì›Œì¡Œë‹¤.

### 1.3.2 ì¸í„°í˜ì´ìŠ¤ì˜ ë„ì…
- 2ê°œì˜ í´ë˜ìŠ¤ê°€ ì„œë¡œ ê¸´ë°€í•˜ê²Œ ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šë„ë¡ ì¤‘ê°„ì— ì¶”ìƒì ì¸ ëŠìŠ¨í•œ ì—°ê²°ê³ ë¦¬ë¥¼ ë§Œë“¤ì–´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
- ì¶”ìƒí™”ë€ ì–´ë–¤ ê²ƒë“¤ì˜ ê³µí†µì ì¸ ì„±ê²©ì„ ë½‘ì•„ë‚´ì–´ ì´ë¥¼ ë”°ë¡œ ë¶„ë¦¬í•´ë‚´ëŠ” ì‘ì—…ì´ë‹¤.
- ìë°”ê°€ ì¶”ìƒí™”ë¥¼ ìœ„í•´ ì œê³µí•˜ëŠ” ê°€ì¥ ìœ ìš©í•œ ë„êµ¬ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
- ê²°êµ­ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ë ¤ë©´ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼ê² ì§€ë§Œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”í•´ë†“ì€ ìµœì†Œí•œì˜ í†µë¡œë¥¼ í†µí•´ ì ‘ê·¼í•˜ëŠ” ìª½ì—ì„œëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•  í´ë˜ìŠ¤ê°€ ë¬´ì—‡ì¸ì§€ ëª°ë¼ë„ ëœë‹¤.

![image](https://github.com/Team-Sopetit/server-spring-study/assets/55437339/26d9cabf-8249-4837-b28e-479d0d99fe92)

```java
package springbook.user.dao;
...
public interface ConnectionMaker {
	public Connection makeConnection() throws ClassNotFoundException, SQLException;
}
```
ğŸ”¼Â ConnectionMaker ì¸í„°í˜ì´ìŠ¤

```java
package springbook.user.dao;
...
public class DConnectionMaker implements ConnectionMaker {
	...
	public Connection makeConnection() throws ClassNoFoundException, SQLException {
		// Dì‚¬ì˜ ë…ìì ì¸ ë°©ë²•ìœ¼ë¡œ Connectionì„ ìƒì„±í•˜ëŠ” ì½”ë“œ
	}
}
```
ğŸ”¼Â ConnectionMaker êµ¬í˜„ í´ë˜ìŠ¤

```java
public class UserDao {
	private ConnectionMaker connectionMaker;

	public UserDao() {
		connectionMaker = new DConnectionMaker();
	}

	public void add(User user) throws ClassNotFoundException, SQLException {
		Connection c = connectionMaker.makeConnection();
		...
	}

	public User get(String id) throws ClassNotFoundException, SQLExcption {
		Connection c = connectionMaker.makeConnection();
		...
	}
}
```
ğŸ”¼Â ConnectionMaker ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°œì„ í•œ UserDao

- í•˜ì§€ë§Œ DConnection í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•´ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œê°€ ì—¬ì „íˆ UserDaoì— ë‚¨ì•„ìˆë‹¤.
- DB ì»¤ë„¥ì…˜ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì •ë³´ëŠ” ëª¨ë‘ ì œê±°ê°€ ê°€ëŠ¥í–ˆì§€ë§Œ, ì´ˆê¸°ì— í•œ ë²ˆ ì–´ë–¤ í¬ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‚¬ìš©í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ìƒì„±ìì˜ ì½”ë“œëŠ” ì œê±°ë˜ì§€ ì•Šê³  ë‚¨ì•„ìˆë‹¤.
- ì—¬ì „íˆ ê³ ê°ì—ê²Œ ììœ ë¡œìš´ DB ì»¤ë„¥ì…˜ í™•ì¥ ê¸°ëŠ¥ì„ ê°€ì§„ UserDaoë¥¼ ì œê³µí•  ìˆ˜ ì—†ë‹¤.

### 1.3.3 ê´€ê³„ì„¤ì • ì±…ì„ì˜ ë¶„ë¦¬
- ì—¬ì „íˆ UserDaoì—ëŠ” ì–´ë–¤ ConnectioinMaker êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì½”ë“œê°€ ë‚¨ì•„ìˆë‹¤.
- `new DConnectionMaker()`ë¼ëŠ” ì½”ë“œëŠ” ê·¸ ìì²´ë¡œ ì¶©ë¶„íˆ ë…ë¦½ì ì¸ ê´€ì‹¬ì‚¬ë¥¼ ë‹´ê³  ìˆë‹¤.
- UserDaoì˜ í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¸Œì íŠ¸ê°€ ë°”ë¡œ ì œ 3ì˜ ê´€ì‹¬ì‚¬í•­ì¸ UserDaoì™€ ConnectionMaker êµ¬í˜„ í´ë˜ìŠ¤ì˜ ê´€ê³„ë¥¼ ê²°ì •í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ë¶„ë¦¬í•´ì„œ ë‘ê¸°ì— ì ì ˆí•œ ê³³ì´ë‹¤.
- UserDaoì˜ ëª¨ë“  ì½”ë“œëŠ” ConnectionMaker ì¸í„°í˜ì´ìŠ¤ ì™¸ì—ëŠ” ì–´ë–¤ í´ë˜ìŠ¤ì™€ë„ ê´€ê³„ë¥¼ ê°€ì ¸ì„œëŠ” ì•ˆ ë˜ê²Œ í•´ì•¼ í•œë‹¤.

![image](https://github.com/Team-Sopetit/server-spring-study/assets/55437339/05155419-b32d-49c5-ad17-2f76182f3fc6)

- í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê´€ê³„ê°€ ë§Œë“¤ì–´ì§„ ê²ƒì€ ì•„ë‹ˆê³ , ë‹¨ì§€ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì— ë‹¤ì´ë‚´ë¯¹í•œ ê´€ê³„ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
- ì½”ë“œì—ì„œëŠ” íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ì „í˜€ ì•Œì§€ ëª»í•˜ë”ë¼ë„ í•´ë‹¹ í´ë˜ìŠ¤ê°€ êµ¬í˜„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´, ê·¸ í´ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ìœ¼ë¡œ ë°›ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë¨ì—ì„œëŠ” ë‹¤í˜•ì„±ì´ë¼ëŠ” íŠ¹ì§•ì´ ìˆëŠ” ë•ë¶„ì´ë‹¤.
- UserDao ì˜¤ë¸Œì íŠ¸ê°€ DConnectionMaker ì˜¤ë¸Œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ê²Œ í•˜ë ¤ë©´ ë‘ í´ë˜ìŠ¤ì˜ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì— ì˜ì¡´ê´€ê³„ë¼ê³  ë¶ˆë¦¬ëŠ” ê´€ê³„ë¥¼ ë§ºì–´ì£¼ë©´ ëœë‹¤.
- ì½”ë“œì—ëŠ” ë³´ì´ì§€ ì•Šë˜ ê´€ê³„ëŠ” ì˜¤ë¸Œì íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ í›„ì— ìƒì„±ëœë‹¤.
- ì´ëŸ¬í•œ ëŸ°íƒ€ì„ ì˜¤ë¸Œì íŠ¸ ê´€ê³„ë¥¼ ê°–ëŠ” êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ê²Œ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ì±…ì„ì´ë‹¤.
  - í˜„ì¬ëŠ” UserDao í´ë˜ìŠ¤ì˜ main() ë©”ì†Œë“œê°€ UserDao í´ë¼ì´ì–¸íŠ¸ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.
  - ì¢€ ë” ê¹”ë”í•˜ê²Œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ UserDaoTestë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ main() ë©”ì†Œë“œë¥¼ ì˜®ê¸´ë‹¤.
  - í´ë¼ì´ì–¸íŠ¸ì™€ ê°™ì€ ì œ 3ì˜ ì˜¤ë¸Œì íŠ¸ê°€ UserDao ì˜¤ë¸Œì íŠ¸ê°€ ì‚¬ìš©í•  ConnectionMaker ì˜¤ë¸Œì íŠ¸ë¥¼ ì „ë‹¬í•´ì£¼ë„ë¡ ë§Œë“ ë‹¤.
  - DConnectionMakerë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ UserDaoì˜ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë„˜ê²¨ë²„ë¦°ë‹¤.

```java
public UserDao(ConnectionMaker connectionMaker) {
	this.connectionMaker = connectionMaker;
}
```
ğŸ”¼Â ìˆ˜ì •í•œ ìƒì„±ì

```java
public class UserDaoTest {
	public static void main(String[] args) throws ClassNotFoundException, SQLException {
		ConnectionMaker connectionMaker = new DConnectionMaker();

		UserDao dao = new UserDao(connectionMaker);
		...
	}
}
```
ğŸ”¼Â ê´€ê³„ì„¤ì • ì±…ì„ì´ ì¶”ê°€ëœ UserDao í´ë¼ì´ì–¸íŠ¸ì¸ main() ë©”ì†Œë“œ

```java
public static void main(String[] args) throws ClassNotFoundException, SQLException {
	ConnectionMaker connectionMaker = new NConnectionMaker();
	...
}
```
ğŸ”¼Â í´ë¼ì´ì–¸íŠ¸ ì—­í• ì˜ UserDaoTest

![image](https://github.com/Team-Sopetit/server-spring-study/assets/55437339/d10dabd3-d77c-451a-b642-3e0102a49554)

### 1.3.4 ì›ì¹™ê³¼ íŒ¨í„´
> ***ê°œë°œ íì‡„ ì›ì¹™***
- í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆì€ í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ê³  ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.
- UserDaoëŠ” DB ì—°ê²° ë°©ë²•ì´ë¼ëŠ” ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ë°ëŠ” ì—´ë ¤ ìˆë‹¤.
- ë™ì‹œì— UserDao ìì‹ ì˜ í•µì‹¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ì½”ë“œëŠ” ê·¸ëŸ° ë³€í™”ì— ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤.

> ***ë†’ì€ ì‘ì§‘ë„ì™€ ë‚®ì€ ê²°í•©ë„***
- **ë†’ì€ ì‘ì§‘ë„**
  - ì‘ì§‘ë„ê°€ ë†’ë‹¤ëŠ” ê±´ í•˜ë‚˜ì˜ ëª¨ë“ˆ, í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì±…ì„ ë˜ëŠ” ê´€ì‹¬ì‚¬ì—ë§Œ ì§‘ì¤‘ë˜ì–´ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤. (ë³€í™”ê°€ ì¼ì–´ë‚  ë•Œ í•´ë‹¹ ëª¨ë“ˆì—ì„œ ë³€í•˜ëŠ” ë¶€ë¶„ì´ í¼)
  - ConnectionMaker ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ DB ì—°ê²° ê¸°ëŠ¥ì„ ë…ë¦½ì‹œí‚¨ ê²½ìš°ì—ì„œ, ê·¸ì € DB ì»¤ë„¥ì…˜ í’€ì„ í™œìš©í•˜ëŠ” ConnectionMaker êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ìƒˆë¡œ ë§Œë“¤ê¸°ë§Œ í•˜ë©´ ëœë‹¤.
  - DB ì—°ê²° ë°©ì‹ì— ë³€ê²½ì´ ì¼ì–´ë‚œ ê²½ìš°ì— ì´ë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´, ë³€ê²½í•œ ConnectionMaker êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ëŠ” ê²ƒë§Œìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤.
- **ë‚®ì€ ê²°í•©ë„**
  - í•˜ë‚˜ì˜ ë³€ê²½ì´ ë°œìƒí•  ë•Œ ë§ˆì¹˜ íŒŒë¬¸ì´ ì´ëŠ” ê²ƒì²˜ëŸ¼ ì—¬íƒ€ ëª¨ë“ˆê³¼ ê°ì²´ë¡œ ë³€ê²½ì— ëŒ€í•œ ìš”êµ¬ê°€ ì „íŒŒë˜ì§€ ì•ŠëŠ” ìƒíƒœë¥¼ ë§í•œë‹¤.
  - ê²°í•©ë„ê°€ ë‚®ì•„ì§€ë©´ ë³€í™”ì— ëŒ€ì‘í•˜ëŠ” ì†ë„ê°€ ë†’ì•„ì§€ê³ , êµ¬ì„±ì´ ê¹”ë”í•´ì§„ë‹¤. í™•ì¥í•˜ê¸°ì—ë„ ë§¤ìš° í¸ë¦¬í•˜ë‹¤.
  - ConnectionMaker ì¸í„°í˜ì´ìŠ¤ì˜ ë„ì…ìœ¼ë¡œ ì¸í•´ DB ì—°ê²° ê¸°ëŠ¥ì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ ë°”ë€Œë”ë¼ë„, DAO í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ê²Œ ëë‹¤. ConnectionMakerì™€ UserDaoì˜ ê²°í•©ë„ê°€ ë‚®ì•„ì§„ ê²ƒì´ë‹¤.

> ***ì „ëµ íŒ¨í„´***
- ê°œì„ í•œ UserDaoTest-UserDao-ConnectionMaker êµ¬ì¡°ë¥¼ ë””ìì¸ íŒ¨í„´ì˜ ì‹œê°ìœ¼ë¡œ ë³´ë©´ ì „ëµ íŒ¨í„´ì— í•´ë‹¹í•œë‹¤.
- ì „ëµ íŒ¨í„´ì€ ìì‹ ì˜ ê¸°ëŠ¥ ë§¥ë½ì—ì„œ, í•„ìš”ì— ë”°ë¼ ë³€ê²½ì´ í•„ìš”í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í†µì§¸ë¡œ ì™¸ë¶€ë¡œ ë¶„ë¦¬ì‹œí‚¤ê³ , ì´ë¥¼ êµ¬í˜„í•œ êµ¬ì²´ì ì¸ ì•Œê³ ë¦¬ì¦˜ í´ë˜ìŠ¤ë¥¼ í•„ìš”ì— ë”°ë¼ ë°”ê¿” ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.
- UserDaoëŠ” ì „ëµ íŒ¨í„´ì˜ ì»¨í…ìŠ¤íŠ¸ì— í•´ë‹¹í•œë‹¤. ì»¨í…ìŠ¤íŠ¸ëŠ” ìì‹ ì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ”ë° í•„ìš”í•œ ê¸°ëŠ¥ ì¤‘ì—ì„œ ë³€ê²½ ê°€ëŠ¥í•œ ì•Œê³ ë¦¬ì¦˜(DB ì—°ê²° ë°©ì‹)ì„ ConnectionMakerë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ ì •ì˜í•˜ê³ , ì „ëµ(êµ¬í˜„ í´ë˜ìŠ¤)ì„ ë°”ê¿”ê°€ë©° ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë¶„ë¦¬í–ˆë‹¤.
